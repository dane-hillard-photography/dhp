{% extends '__base.html' %}
{% load staticfiles photography_filters %}
{% block description %}{{ photoset.body|truncatechars:150 }}{% endblock %}
{% block css %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'fancybox/source/jquery.fancybox.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'photography/css/photoset.css' %}" />
{% endblock css %}

{% block title %}{{ photoset.title }} | {% endblock title %}

{% block og_type %}danehillard:album{% endblock og_type %}
{% block og_url %}http://{{ request.get_host }}{% url 'photography:photoset' photoset.id photoset.slug %}{% endblock og_url %}
{% block og_title %}{{ photoset.title }} | {{ block.super }}{% endblock og_title %}
{% block og_images %}
{% for photograph in photoset.photos.all|slice:":10" %}
<meta property="og:image" content="http://{{ request.get_host|add:photograph.thumbnail_large.url }}" />
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="{{ photograph.l_width }}">
<meta property="og:image:height" content="{{ photograph.l_height }}">
{% endfor %}
{% endblock og_images %}

{% block twitter %}
  <meta name="twitter:card" content="gallery">
  <meta name="twitter:url" content="{{ request.get_host }}{% url 'photography:photoset' photoset.id photoset.slug %}" />
  <meta name="twitter:title" content="{{ photoset.title }} | Dane Hillard Photography" />
  <meta name="twitter:description" content="A photo set by Dane Hillard Photography" />
  <meta name="twitter:site" content="@{{ social_media.twitter }}" />
  <meta name="twitter:creator" content="@{{ social_media.twitter }}" />
  <meta name="twitter:domain" content="danehillard.com" />
  {% for photograph in photoset.photos.all|slice:":4" %}
  <meta name="twitter:image{{ forloop.counter0 }}" content="http://{{ request.get_host|add:photograph.thumbnail_medium.url }}" />
  {% endfor %}
{% endblock twitter %}

{% block content %}
<img id="logo" src="{% static 'images/logos/dhp.png' %}" alt="dHP Logo" nopin="nopin"  />
<h1>{{ photoset.title }}</h1>
<div id="photoset">
	{% for photo in photoset.photos.all %}
	<a id="{{ photo.uuid }}" rel="album" class="photo" href="{{ photo.thumbnail_large.url }}" data-title-id="title-for-{{ photo.uuid }}">
		<img src="{{ photo.thumbnail_square.url }}" alt="{{ photo.title }}{% if photograph.description %} | {% autoescape on %}{{ photograph.description }}{% endautoescape %}{% endif %} | A photograph by Ann Arbor photographer Dane Hillard"/>
	</a>
	{% endfor %}
</div>
<div id="photoset-body">
	{{ photoset.body|to_markdown }}
</div>
{% block js %}
{{ block.super }}
<script type="text/javascript" src="{% static 'jquery/dist/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'fancybox/source/jquery.fancybox.pack.js' %}?v=2.1.5"></script>
<script type="text/javascript" src="{% static 'photography/js/photoset.js' %}"></script>
{% endblock js %}
{% endblock content %}
