{% extends 'home/base.html' %}
{% load static %}

{% block title %}{{ photograph.title }}{% endblock title %}

{% block description %}{{ photograph.title }}{% if photograph.description %} — {% autoescape on %}{{ photograph.description }}{% endautoescape %}{% endif %} — A photograph by Dane Hillard. Published: {{ photograph.published_date|date:"l, F jS, Y" }}{% endblock description %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}photography/css/photograph.css" />
{% endblock css %}

{% block og_type %}danehillard:photograph{% endblock og_type %}
{% block og_url %}{{ http }}{{ httpHost }}{% url 'photography:photo' photograph.uuid %}{% endblock og_url %} 
{% block og_title %}{{ photograph.title }} | {{ block.super }}{% endblock og_title %}
{% block og_description %}{{ photograph.description }}{% endblock og_description %}
{% block og_images %}
<meta property="og:image" content="{{ http }}{{ httpHost }}{{ photograph.thumbnail_large.url }}" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:height" content="{{ photograph.l_height }}" />
<meta property="og:image:width" content="{{ photograph.l_width }}" />
{% endblock og_images %}

{% block twitter %}
  <meta name="twitter:card" content="photo">
  <meta name="twitter:url" content="{{ http }}{{ httpHost }}{% url 'photography:photo' photograph.uuid %}" /> 
  <meta name="twitter:title" content="{{ photograph.title }} | {{ siteName }}" />
  <meta name="twitter:description" content="{{ siteDescription }}" />
  <meta name="twitter:site" content="@{{ social_media.twitter }}" />
  <meta name="twitter:creator" content="@{{ social_media.twitter }}" />
  <meta name="twitter:domain" content="danehillard.com" />
  <meta name="twitter:image" content="{{ http|add:httpHost|add:photograph.thumbnail_medium.url }}" />
  <meta name="twitter:width" content="{{ photograph.m_width }}" />
  <meta name="twitter:height" content="{{ photograph.m_height }}" />
{% endblock twitter %}

{% block content %}
  <a href="{% url 'photography:photography' %}" title="Portfolio">
	  <img id="logo" src="{% get_static_prefix %}images/logos/dhp.png" alt="dHP Logo" nopin="nopin"  />
  </a>
  <div id="feature">
    <h1 id="title">{{ photograph.title }}</h1>
    <img src="{{ photograph.thumbnail_large.url }}" alt="{{ photograph.title }}{% if photograph.description %} | {% autoescape on %}{{ photograph.description }}{% endautoescape %}{% endif %}" />
	<div class="photo-tweet-button">
		<a href="https://www.twitter.com/share?url={{ http|add:httpHost|add:request.get_full_path|urlencode:'' }}&related={{ social_media.twitter }}&text={{ photograph.title|add:' — a photograph via @'|urlencode:''}}{{ social_media.twitter }}&lang=en&count=horizontal"
		   class="twitter-share-button" 
		   data-lang="en">Tweet</a>
	</div>
    <div class="photo-like-button fb-like"
      data-href="{{ http }}{{ httpHost }}{% url 'photography:photo' photograph.uuid %}" 
      data-send="false" 
      data-layout="button_count">
    </div>
    <div class="photo-pin-button">
      <a href="//www.pinterest.com/pin/create/button/?url={{ http|add:httpHost|add:request.get_full_path|urlencode:'' }}&media={{ http|add:httpHost|add:photograph.thumbnail_large.url|urlencode:'' }}&description={{ photograph.title|urlencode:'' }}"
        data-pin-do="buttonPin" 
		data-pin-config="beside"
		data-pin-color="red">
        <img src="//assets.pinterest.com/images/pidgets/pin_it_button.png" />
      </a>
    </div>
	<div class="photo-tumblr-button">
		<a href="http://www.tumblr.com/share/photo?source={{ http|add:httpHost|add:photograph.thumbnail_large.url }}&caption={{ photograph.title|urlencode:'' }}&clickthru={{ http|add:httpHost|add:request.get_full_path|urlencode:'' }}" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:61px; height:20px; background:url('http://platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;">
			Share on Tumblr
		</a>
	</div>
  </div>
{% endblock content %}
{% block js %}
{{ block.super }}
<script src="http://platform.tumblr.com/v1/share.js"></script>
{% include 'home/pinterest_sdk.html' %}
{% include 'home/twitter_sdk.html' %}
{% include 'home/fb_sdk.html' %}
{% endblock js %}
