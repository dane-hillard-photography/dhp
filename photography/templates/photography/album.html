{% extends "home/__base.html" %}
{% load staticfiles %}

{% block title %}{{ album.title }} | {% endblock %}

{% block description %}
{{ album.title }} -- An album of {{ album.photograph_set.count }} photograph{{ album.photograph_set.count|pluralize }} by Dane Hillard.
{% endblock description %}

{% block css %}
<link rel="stylesheet" href="{% static 'js/jQuery/fancyBox/source/jquery.fancybox.css' %}?v=2.1.5" />
<link rel="stylesheet" href="{% static 'photography/css/album.css' %}" />
{% endblock css %}

{% block og_type %}danehillard:album{% endblock og_type %}
{% block og_url %}http://{{ request.get_host }}{% url 'photography:album' album.uuid %}{% endblock og_url %}
{% block og_title %}{{ album.title }} | {{ block.super }}{% endblock og_title %}
{% block og_description %}{{ album.title }} -- An album of {{ album.photograph_set.count }} photograph{{ album.photograph_set.count|pluralize }} by Dane Hillard{% endblock og_description %}
{% block og_images %}
{% for photograph in album.photograph_set.all|slice:":10" %}
<meta property="og:image" content="http://{{ request.get_host|add:photograph.thumbnail_large.url }}" />
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="{{ photograph.l_width }}">
<meta property="og:image:height" content="{{ photograph.l_height }}">
{% endfor %}
{% endblock og_images %}

{% block twitter %}
  <meta name="twitter:card" content="gallery">
  <meta name="twitter:url" content="{{ request.get_host }}{% url 'photography:album' album.uuid %}" />
  <meta name="twitter:title" content="{{ album.title }} | {{ siteName }}" />
  <meta name="twitter:description" content="{{ siteDescription }}" />
  <meta name="twitter:site" content="@{{ social_media.twitter }}" />
  <meta name="twitter:creator" content="@{{ social_media.twitter }}" />
  <meta name="twitter:domain" content="danehillard.com" />
  {% for photograph in album.photograph_set.all|slice:":4" %}
  <meta name="twitter:image{{ forloop.counter0 }}" content="http://{{ request.get_host|add:photograph.thumbnail_medium.url }}" />
  {% endfor %}
{% endblock twitter %}

{% block content %}
  <a href="{% url 'photography:photography' %}" title="Portfolio">
	  <img id="logo" src="{% static 'images/logos/dhp.png' %}" alt="dHP Logo" nopin="nopin" />
  </a>
  <h1 id="title">{{ album.title }}</h1>
  <div id="frame">
    {% if album.photograph_set.all %}
    {% for photograph in album.photograph_set.all %}
    {% url 'photography:photo' photograph.uuid as photoUrl %}
    <div itemscope itemtype="http://schema.org/Product" class="photograph">
      <a class="photo" id="{{ photograph.uuid }}" rel="album" href="{{ photograph.thumbnail_large.url }}" data-title-id="title-for-{{ photograph.uuid }}">
        <img itemprop="image" src="{{ photograph.thumbnail_square.url }}" alt="{{ photograph.title }}{% if photograph.description %} | {% autoescape on %}{{ photograph.description }}{% endautoescape %}{% endif %}| A photograph by Ann Arbor photographer Dane Hillard" />
      </a>
    </div>
    {% endfor %}
    {% else %}
      <p>
        This album is currently empty. Come back soon!
      </p>
    {% endif %}
  </div>
{% endblock content %}
{% block js %}
{{ block.super }}
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script type="text/javascript" src="{% static 'js/jQuery/fancyBox/source/jquery.fancybox.pack.js' %}?v=2.1.5"></script>
<script type="text/javascript" src="{% static 'photography/js/photography.js' %}"></script>
<script src="http://platform.tumblr.com/v1/share.js"></script>
{% include 'home/pinterest_sdk.html' %}
{% include 'home/twitter_sdk.html' %}
{% include 'home/fb_sdk.html' %}
{% endblock js %}
